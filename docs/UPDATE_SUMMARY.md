# CEWP Documentation Update Summary

**Date:** January 15, 2026  
**Updated Documents:** CEWP_Data_Source_Audit.pdf, CEWP_Thesis_Overview.pdf

## Key Changes Made

### 1. ACLED Hybrid Features (CRITICAL CORRECTION)
- **Previous:** Incorrectly stated 6 explicit drivers
- **Corrected:** 5 explicit drivers implemented in `process_acled_hybrid.py`:
  1. `driver_resource_cattle` - Cattle/livestock conflict
  2. `driver_resource_mining` - Mining-related violence  
  3. `driver_econ_taxation` - Economic extortion
  4. `driver_political_coup` - Political instability
  5. `driver_civilian_abuse` - Human rights violations

- **Methodology Update:** Documented the semi-supervised semantic projection approach:
  - Ensemble scoring combining explicit regex (precision) + anchor sentence similarity (recall)
  - Residual clustering for 8 semantic context themes
  - Continuous risk scores (0.0-1.0) instead of binary flags
  - Uses `all-MiniLM-L6-v2` sentence transformer model

### 2. Feature Count Updates
- **Previous:** 96 total features
- **Updated:** 109 total features (43 raw + 66 transformed)
  - Environmental: 24
  - Conflict: 20
  - **ACLED Hybrid: 13** (5 drivers + 8 themes)
  - Economic: 20
  - Socio-Political: 12
  - Infrastructure: 12
  - Demographics: 5
  - Temporal Context: 3

### 3. Model Architecture Updates
- **Thematic Sub-models:** Updated from 8 to **9** (added ACLED Hybrid as separate theme)
- **Learner Optimization:** Documented critical fixes:
  - XGBoost: `tree_method='hist'` (2-5x speedup) + `n_jobs=1` (deadlock prevention)
  - LightGBM: `num_threads=1` (deadlock prevention)
- **Calibration:** Added isotonic regression for probability reliability
- **Uncertainty:** Added Bin-Conditional Conformal Prediction (BCCP) documentation

### 4. Data Sources
- **Added:** IODA internet outage detection data
- **Updated:** Food security and macro-economic indicator coverage
- **Clarified:** Structural break handling for WorldPop, IOM, and economic data

### 5. Known Issues Status
Updated status of several issues:
- ✓ Market locations CSV BOM: Fixed
- ✓ VIIRS pre-2012: Expected (sensor launch date)
- ✓ EPR post-2021: Acceptable (slow-changing features)
- ✓ IOM survey gaps: Zero-filled
- ✓ h3 API deprecation: Migrated

### 6. Database Schema
- Emphasized BIGINT enforcement for h3_index columns (not VARCHAR)
- Added `features_acled_hybrid` table documentation
- Added `ioda_outages` table
- Documented automatic schema migration in `init_db.py`

### 7. Pipeline Architecture
Updated Phase 3 to reflect ACLED NLP processing as distinct step:
1. Static Ingestion
2. Dynamic Ingestion  
3. **ACLED NLP** (NEW)
4. Feature Engineering
5. Model Training
6. Inference

## Files Generated
1. `CEWP_Data_Source_Audit_Updated.pdf` (Version 2.1)
2. `CEWP_Thesis_Overview_Updated.pdf` (Version 2.1)

## Next Steps
1. Replace old PDFs in `docs/` directory with updated versions
2. Consider updating `features.yaml` registry to document the 28 features currently generated but not documented
3. Implement `epr_horizontal_inequality` (Gini coefficient) - marked as HIGH priority
4. Add seasonal features (`month_sin`, `month_cos`, `is_dry_season`) to registry

## Version Control
- Previous version: 2.0 (2026-01-07)
- Current version: 2.1 (2026-01-15)
- Major change: Corrected ACLED Hybrid implementation details

---
Generated by: Claude
Last Updated: 2026-01-15
