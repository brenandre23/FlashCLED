# configs/models.yaml
# =================================================================
# MODELING EXPERIMENT CONFIGURATION
# =================================================================

feature_matrix:
  build_start_date: "2000-01-01"
  build_end_date: "2025-12-31"
  chunk_size: "yearly"

experiment:
  random_seed: 42

# --- TARGET HORIZONS ---
horizons:
  - name: "14d"
    steps: 1
  - name: "1m"
    steps: 2
  - name: "3m"
    steps: 6

# --- LEARNER PARAMETERS ---
hurdle_params:
  classifier_scale_pos_weight: "auto"
  regressor_loss_function: "huber"
  regressor_huber_delta: 1.0

learners:
  xgboost:
    type: "xgboost"
    params:
      n_estimators: 300
      max_depth: 6
      learning_rate: 0.05
      tree_method: "hist"
      n_jobs: -1
      
  lightgbm:
    type: "lightgbm"
    params:
      n_estimators: 300
      num_leaves: 31
      learning_rate: 0.05
      max_depth: -1
      n_jobs: -1
      verbose: -1

# --- FEATURE SUBSETS ---
submodels:
  baseline:
    enabled: true
    features:
      - fatalities_14d_sum
      - pop_log

  conflicthistory:
    enabled: true
    features:
      - fatalities_decay_30d
      - protest_count_lag1
      - riot_count_lag1

  geography:
    enabled: true
    features:
      - dist_to_capital
      - terrain_ruggedness_index
      - dist_to_road
      # Water features mapped from JRC_Landsat (see features.yaml)
      - water_coverage_lag1 
      - water_presence_lag1

  resources_economy:
    enabled: true
    features:
      - dist_to_diamond_mine
      - commodity_gold_price_usd_lag1
      - viirs_ntl_mean_lag1

  sociopolitics:
    enabled: true
    features:
      - epr_excluded_groups_count
      - iom_displacement_count_lag1
      - ipc_phase_class_lag1

  broad_pca:
    enabled: true
    type: "pca"
    variance_retention: 0.90
    features:
      - all_candidates